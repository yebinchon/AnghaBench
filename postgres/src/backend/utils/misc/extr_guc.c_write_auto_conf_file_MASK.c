#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */
typedef  struct TYPE_8__   TYPE_2__ ;
typedef  struct TYPE_7__   TYPE_1__ ;

/* Type definitions */
struct TYPE_8__ {char* name; int /*<<< orphan*/  value; struct TYPE_8__* next; } ;
struct TYPE_7__ {scalar_t__ len; int /*<<< orphan*/  data; } ;
typedef  TYPE_1__ StringInfoData ;
typedef  TYPE_2__ ConfigVariable ;

/* Variables and functions */
 scalar_t__ ENOSPC ; 
 int /*<<< orphan*/  ERRCODE_OUT_OF_MEMORY ; 
 int /*<<< orphan*/  ERROR ; 
 int /*<<< orphan*/  FUNC0 (TYPE_1__*,char*) ; 
 int /*<<< orphan*/  FUNC1 (int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC3 () ; 
 int /*<<< orphan*/  FUNC4 (char*,...) ; 
 scalar_t__ errno ; 
 char* FUNC5 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC6 (char*) ; 
 int /*<<< orphan*/  FUNC7 (TYPE_1__*) ; 
 int /*<<< orphan*/  FUNC8 (int /*<<< orphan*/ ) ; 
 scalar_t__ FUNC9 (int) ; 
 int /*<<< orphan*/  FUNC10 (TYPE_1__*) ; 
 scalar_t__ FUNC11 (int,int /*<<< orphan*/ ,scalar_t__) ; 

__attribute__((used)) static void
FUNC12(int fd, const char *filename, ConfigVariable *head)
{
	StringInfoData buf;
	ConfigVariable *item;

	FUNC7(&buf);

	/* Emit file header containing warning comment */
	FUNC0(&buf, "# Do not edit this file manually!\n");
	FUNC0(&buf, "# It will be overwritten by the ALTER SYSTEM command.\n");

	errno = 0;
	if (FUNC11(fd, buf.data, buf.len) != buf.len)
	{
		/* if write didn't set errno, assume problem is no disk space */
		if (errno == 0)
			errno = ENOSPC;
		FUNC1(ERROR,
				(FUNC3(),
				 FUNC4("could not write to file \"%s\": %m", filename)));
	}

	/* Emit each parameter, properly quoting the value */
	for (item = head; item != NULL; item = item->next)
	{
		char	   *escaped;

		FUNC10(&buf);

		FUNC0(&buf, item->name);
		FUNC0(&buf, " = '");

		escaped = FUNC5(item->value);
		if (!escaped)
			FUNC1(ERROR,
					(FUNC2(ERRCODE_OUT_OF_MEMORY),
					 FUNC4("out of memory")));
		FUNC0(&buf, escaped);
		FUNC6(escaped);

		FUNC0(&buf, "'\n");

		errno = 0;
		if (FUNC11(fd, buf.data, buf.len) != buf.len)
		{
			/* if write didn't set errno, assume problem is no disk space */
			if (errno == 0)
				errno = ENOSPC;
			FUNC1(ERROR,
					(FUNC3(),
					 FUNC4("could not write to file \"%s\": %m", filename)));
		}
	}

	/* fsync before considering the write to be successful */
	if (FUNC9(fd) != 0)
		FUNC1(ERROR,
				(FUNC3(),
				 FUNC4("could not fsync file \"%s\": %m", filename)));

	FUNC8(buf.data);
}