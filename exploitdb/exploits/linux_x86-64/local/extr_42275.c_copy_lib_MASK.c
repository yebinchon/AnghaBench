#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  scalar_t__ ssize_t ;
typedef  int /*<<< orphan*/  buf ;

/* Variables and functions */
 int O_CREAT ; 
 int O_NOFOLLOW ; 
 int /*<<< orphan*/  O_RDONLY ; 
 int O_TRUNC ; 
 int O_WRONLY ; 
 scalar_t__ FUNC0 (int const) ; 
 int /*<<< orphan*/  FUNC1 () ; 
 scalar_t__ FUNC2 (int const,int) ; 
 int FUNC3 (char const* const,int,...) ; 
 scalar_t__ FUNC4 (int const,char*,int) ; 
 scalar_t__ FUNC5 (int const,char*,scalar_t__ const) ; 

__attribute__((used)) static void
FUNC6(const char * const src, const char * const dst)
{
    if (!src) FUNC1();
    if (*src != '/') FUNC1();

    if (!dst) FUNC1();
    if (*dst != '/') FUNC1();

    const int src_fd = FUNC3(src, O_RDONLY);
    if (src_fd <= -1) FUNC1();

    const int dst_fd = FUNC3(dst, O_WRONLY | O_CREAT | O_TRUNC | O_NOFOLLOW, 0);
    if (dst_fd <= -1) FUNC1();

    for (;;) {
        char buf[1024];
        const ssize_t rd = FUNC4(src_fd, buf, sizeof(buf));
        if (rd == 0) break;
        if (rd <= 0) FUNC1();
        const ssize_t wr = FUNC5(dst_fd, buf, rd);
        if (wr != rd) FUNC1();
    }

    if (FUNC2(dst_fd, 0755)) FUNC1();
    if (FUNC0(dst_fd)) FUNC1();
    if (FUNC0(src_fd)) FUNC1();
}