#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */

/* Variables and functions */
 int MAX_IV ; 
 int /*<<< orphan*/  FUNC0 (int) ; 
 int /*<<< orphan*/  FUNC1 (int /*<<< orphan*/ ,char*,...) ; 
 int /*<<< orphan*/  out_stream ; 
 unsigned int FUNC2 (int,char*,unsigned int) ; 
 int /*<<< orphan*/  FUNC3 (char*,char*) ; 

int
FUNC4(int fd, unsigned payload_len, char * criteria){
  int i;
  char payload[MAX_IV];
  if(FUNC2(fd, payload, payload_len) != payload_len) return 0;

  FUNC1(out_stream, "speed %d\n", payload[0] + 0xff * payload[1]);
  if(payload[payload_len - 1] != 0x00){
    FUNC1(out_stream, "parse_query_payload(): serach criteria not null\
 termintaed (%.2hhx), fixing it", payload[payload_len - 1]);
    payload[payload_len - 1] = 0x00;
  }
  FUNC0(payload_len > 2);
  FUNC3(criteria, &payload[2]);
  FUNC1(out_stream, "search criteria: %s\n", criteria);
  return 1;
}