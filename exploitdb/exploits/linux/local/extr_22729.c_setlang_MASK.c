#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
struct passwd {char* pw_dir; } ;
typedef  int /*<<< orphan*/  FILE ;

/* Variables and functions */
 char* LANG_NAME ; 
 int /*<<< orphan*/  FUNC0 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/ * FUNC1 (char*,char*) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ *,char*,char*) ; 
 int /*<<< orphan*/  FUNC3 (char*) ; 
 struct passwd* FUNC4 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC5 () ; 
 scalar_t__ FUNC6 (scalar_t__) ; 
 int /*<<< orphan*/  FUNC7 (char*) ; 
 char* FUNC8 (unsigned int) ; 
 int /*<<< orphan*/  FUNC9 (char*,char*,char*,...) ; 
 scalar_t__ FUNC10 (char*) ; 
 int /*<<< orphan*/  FUNC11 (char*) ; 
 int /*<<< orphan*/  FUNC12 (char*) ; 

char *FUNC13(unsigned int pf){
 char *langfile;
 char *langsrc;
 char *execbuf;
 char *envbuf;
 struct passwd *pwd;
 FILE *fs;

 if(!(pwd=FUNC4(FUNC5())))
  FUNC7("passwd entry doesn't appear to exist");
 else{
  if(FUNC10(pwd->pw_dir)){
   if(!(langfile=(char *)FUNC6(FUNC10((char *)
   pwd->pw_dir)+FUNC10(LANG_NAME)+7)))
    FUNC7("setlang(): allocating memory failed");
   FUNC9(langfile,"%s/mess.%s",(char *)pwd->pw_dir,
   LANG_NAME);
  }
  else
   FUNC7("passwd entry lookup failure");
 }
 if(!(langsrc=(char *)FUNC6(FUNC10(langfile)+5)))
  FUNC7("setlang(): allocating memory failed");

 FUNC9(langsrc,"%s.src",langfile);

 if(!(fs=FUNC1(langsrc,"w")))
  FUNC7("setlang(): failed to write to cat file.");
 fs=FUNC1(langsrc,"w");
 FUNC2(fs,"%s\n",FUNC8(pf));
 FUNC0(fs);

 if(!(execbuf=(char *)FUNC6(FUNC10(langfile)+
 FUNC10(langsrc)+9)))
  FUNC7("setlang(): allocating memory failed");
 FUNC9(execbuf,"gencat %s %s",langfile,langsrc);

 FUNC12(langfile);
 FUNC11(execbuf);

 if(!(envbuf=(char *)FUNC6(FUNC10(langfile)+9)))
  FUNC7("setlang(): allocating memory failed");
 FUNC9(envbuf,"NLSPATH=%s",langfile);

 FUNC3(langfile);
 FUNC3(langsrc);
 FUNC3(execbuf);

 return(envbuf);
}