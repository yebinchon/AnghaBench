#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */

/* Variables and functions */
 int /*<<< orphan*/  EXIT_FAILURE ; 
 unsigned long O_INIT_MM ; 
 unsigned long O_INIT_TASK ; 
 int /*<<< orphan*/  O_MM_STRUCT_MMAP ; 
 int /*<<< orphan*/  O_MM_STRUCT_PGD ; 
 int /*<<< orphan*/  O_TASK_STRUCT_MM ; 
 unsigned long PAGE_OFFSET_BASE ; 
 int /*<<< orphan*/  FUNC0 (int /*<<< orphan*/ ) ; 
 unsigned long FUNC1 (unsigned long,int) ; 
 unsigned long g_kernel_text ; 
 unsigned long g_mmap ; 
 int /*<<< orphan*/  g_physmap ; 
 int /*<<< orphan*/  g_ptsc ; 
 int /*<<< orphan*/  FUNC2 (char*,...) ; 
 int /*<<< orphan*/  FUNC3 (int /*<<< orphan*/ *,int /*<<< orphan*/ ,unsigned long) ; 
 unsigned long FUNC4 (unsigned long,int /*<<< orphan*/ ) ; 

__attribute__((used)) static void FUNC5(int pid) {
	unsigned long mm;

	if (pid != 0) {
		unsigned long init_task = g_kernel_text + O_INIT_TASK;
		FUNC2("[.] init_task:        %016lx\n", init_task);

		unsigned long task = FUNC1(init_task, pid);
		FUNC2("[.] task:             %016lx\n", task);
		if (task == 0) {
			FUNC2("[-] task %d not found\n", pid);
			FUNC0(EXIT_FAILURE);
		} else if (task < PAGE_OFFSET_BASE) {
			FUNC2("[-] task sanity check failed (wrong offset?)\n");
			FUNC0(EXIT_FAILURE);
		}

		mm = FUNC4(task, O_TASK_STRUCT_MM);
		FUNC2("[.] task->mm:         %016lx\n", mm);
		if (mm == 0) {
			FUNC2("[-] mm not found (kernel task?)\n");
			FUNC0(EXIT_FAILURE);
		} else if (mm < PAGE_OFFSET_BASE) {
			FUNC2("[-] mm sanity check failed (wrong offset?)\n");
			FUNC0(EXIT_FAILURE);
		}

		g_mmap = FUNC4(mm, O_MM_STRUCT_MMAP);
		FUNC2("[.] task->mm->mmap:   %016lx\n", g_mmap);
		if (g_mmap < PAGE_OFFSET_BASE) {
			FUNC2("[-] mmap sanity check failed (wrong offset?)\n");
			FUNC0(EXIT_FAILURE);
		}
	} else {
		mm = g_kernel_text + O_INIT_MM;
	}

	unsigned long pgd = FUNC4(mm, O_MM_STRUCT_PGD);
	FUNC2("[.] task->mm->pgd:    %016lx\n", pgd);
	if (pgd < PAGE_OFFSET_BASE) {
		FUNC2("[-] pgd sanity check failed (wrong offset?)\n");
		FUNC0(EXIT_FAILURE);
	}

	FUNC3(&g_ptsc, g_physmap, pgd);
}