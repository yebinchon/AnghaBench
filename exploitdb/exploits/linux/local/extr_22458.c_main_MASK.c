#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
struct timeval {int dummy; } ;

/* Variables and functions */
 int /*<<< orphan*/  EXIT_FAILURE ; 
 int /*<<< orphan*/  FUNC0 (int /*<<< orphan*/ ) ; 
 int FUNC1 (char*,int) ; 
 int /*<<< orphan*/  cleanup ; 
 int /*<<< orphan*/  FUNC2 (int) ; 
 int FUNC3 (char*,int) ; 
 int /*<<< orphan*/  FUNC4 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC5 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  flags ; 
 int /*<<< orphan*/  FUNC6 (struct timeval*,int /*<<< orphan*/ *) ; 
 int FUNC7 (char*,int) ; 
 int FUNC8 (char*,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC9 (char*,...) ; 
 int /*<<< orphan*/  stdout ; 
 int /*<<< orphan*/  FUNC10 (char*) ; 
 unsigned int FUNC11 (struct timeval*,struct timeval*) ; 

int FUNC12(int argc, char **argv)
{
	struct timeval tv_a, tv_b;
	int fd_a, fd_b;
	char buf_a[500], buf_b[500];

	unsigned int success, n, failure;
	
	FUNC0(cleanup);
	
	FUNC9("[+] creating unreachable\n");
	if(FUNC7("unreachable", 0700)==-1) {
		FUNC9("\t[-] Unable to create unreachable\n");
		FUNC4(EXIT_FAILURE);
	}
	
	FUNC9("[+] creating unreachable/iexist\n");
	if((fd_a = FUNC3("unreachable/iexist", 0700))==-1) {
		FUNC9("\t[-] Unable to create unreachable/iexist\n");
		FUNC4(EXIT_FAILURE);
	}
	FUNC2(fd_a);

	FUNC9("[+] chmod 0'ing unreachable\n");
	if(FUNC1("unreachable", 00)==-1) {
		FUNC9("\t[-] Unable to chmod unreachable\n");
		FUNC4(EXIT_FAILURE);
	}

	FUNC9("[+] "); FUNC5(stdout);

	FUNC10("ls -alF | grep unreachable");
	
	FUNC9("[+] Timing open() on unreachable/iexist\n");
	
	/* fd_a = open("unreachable/exists", flags);
	close(fd_a); */
	
	FUNC6(&tv_a, NULL);
	fd_a = FUNC8("unreachable/exists", flags);
	FUNC6(&tv_b, NULL);
	
	
	FUNC9("\t[+] Successful: %ld usecs, got %m\n", (success = FUNC11(&tv_b, &tv_a)));
	FUNC2(fd_a);

	FUNC9("[+] Timing open() on unreachable/non-existant\n");
	
/*	fd_b = open("unreachable/non-existant", flags);
	close(fd_b); */
	
	FUNC6(&tv_a, NULL);
	fd_b = FUNC8("unreachable/non-existant", flags);
	FUNC6(&tv_b, NULL);
	

	FUNC9("\t[+] Failure: %ld usecs, got %m\n", (failure = FUNC11(&tv_b, &tv_a)));

	FUNC2(fd_b);
	success += FUNC11(&tv_b, &tv_a);
	
	success /= 3;
//	success -= 2;

	if(failure > success || success > (failure*8) ) {
		FUNC9("[-] It appears the load went up unexpectadly, mebe try re-running?\n");
		FUNC4(EXIT_FAILURE);
	}

	/* tweak the success value */

	if((failure*4) >= success) success--;
	if(success <= (failure*3)) success++;
	
	FUNC9("\t[+] Using %d as our cutoff.\n", success);
	FUNC9("[+] testing /root/.bashrc and /root/non-existant\n");
	
/*	fd_a = open("/root/.bashrc", flags);
	close(fd_a); */
	
	FUNC6(&tv_a, NULL);
	fd_a = FUNC8("/root/.bashrc", flags);
	FUNC6(&tv_b, NULL);
	
	if((n = FUNC11(&tv_b, &tv_a)) >= success) {
		FUNC9("\t[+] /root/.bashrc exists (%d usecs), got %m\n", n);
	} else {
		FUNC9("\t[+] /root/.bashrc doesn't exist (%d usecs), got %m\n", n);
	}
	FUNC2(fd_a);
	
/*	fd_b = open("/root/non-existant", flags);
	close(fd_b); */
	
	FUNC6(&tv_a, NULL);
	fd_b = FUNC8("/root/non-existant", flags);
	FUNC6(&tv_b, NULL);
	
	if((n = FUNC11(&tv_b, &tv_a)) >= success) {
		FUNC9("\t[+] /root/non-existant exists (%d usecs), got %m\n", n);
	} else {
		FUNC9("\t[+] /root/non-existant doesn't exist (%d usecs), got %m\n", n);
	}
	
	FUNC2(fd_b);
}