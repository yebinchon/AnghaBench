#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */

/* Variables and functions */
 unsigned short FID ; 
 unsigned short TID ; 
 unsigned short UserID ; 
 int /*<<< orphan*/  FUNC0 (int) ; 
 int /*<<< orphan*/  FUNC1 (char*,...) ; 
 int FUNC2 (int,char*,int,int /*<<< orphan*/ ) ; 
 scalar_t__ FUNC3 (char*,char*) ; 

void FUNC4(int sock, char *type)
{
	int ret;
	char response[1496];

	ret = FUNC2(sock, response, 1496, 0);
	if (FUNC3(type, "Null Session request 1") != 0) {
		if ((ret < 0 || response[9] != 0)) {
			FUNC1("\033[0;31mError in %s response\033[0;39m\n\n", type);
			FUNC0(-1);
		}
	}
	
	if (FUNC3(type, "Null Session request 1") == 0) {
		UserID = *(unsigned short *)&response[32];
	}
	if (FUNC3(type, "Tree Connect") == 0) {
		TID = *(unsigned short *)&response[28];
	}
	if (FUNC3(type, "NT Creat AndX") == 0) {
		FID = *(unsigned short *)&response[42];
	}
	
	if (FUNC3(type, "UPNPMGR upnp_getdevicelist") == 0)
{
		if((unsigned long)response[88] != 0) {
			FUNC1("\033[0;31mnca_s_fault_ndr\033[0;39m\n\n");
			FUNC0(-1);
		}
	}
	FUNC1("\033[0;32mOK\033[0;39m\n");
}