#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
struct timeval {int tv_sec; scalar_t__ tv_usec; } ;
typedef  int /*<<< orphan*/  fd_set ;

/* Variables and functions */
 int /*<<< orphan*/  EXIT_FAILURE ; 
 int /*<<< orphan*/  FUNC0 (int,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC1 (int /*<<< orphan*/ *) ; 
 scalar_t__ FUNC2 (void*) ; 
 size_t NOVANET_INT_IDX ; 
 int NOVANET_PKT_SZ ; 
 int /*<<< orphan*/  FUNC3 (char*,unsigned int) ; 
 int /*<<< orphan*/  NOVANET_TCP_PORT ; 
 int /*<<< orphan*/  USLEEP_TIME ; 
 int /*<<< orphan*/  FUNC4 (int) ; 
 int /*<<< orphan*/  errno ; 
 int /*<<< orphan*/  FUNC5 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC6 (int /*<<< orphan*/ ,char*,...) ; 
 int /*<<< orphan*/  FUNC7 (void*,char*,int) ; 
 int /*<<< orphan*/  FUNC8 (char*) ; 
 int FUNC9 (int,int /*<<< orphan*/ *,int /*<<< orphan*/ *,int /*<<< orphan*/ *,struct timeval*) ; 
 int FUNC10 (int,char*,int) ; 
 int FUNC11 (int,char*,int) ; 
 int FUNC12 (char*,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  stderr ; 
 char* FUNC13 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC14 (int /*<<< orphan*/ ) ; 

__attribute__((used)) static int
FUNC15 (char *host, void *start, void *dst)
{
  fd_set r_fds;
  struct timeval tv;
  int fd, n;
  char buf[NOVANET_PKT_SZ], rbuf[NOVANET_PKT_SZ];

  FUNC8 (buf);
  start = (void *) FUNC2 (start);

  fd = FUNC12 (host, NOVANET_TCP_PORT);
  if (fd == -1)
    {
      FUNC6 (stderr, "novanet_read: sockami failed\n");
      FUNC5 (EXIT_FAILURE);
    }

  FUNC3 (buf, (unsigned int) start);
  if ((n = FUNC11 (fd, buf, sizeof buf)) != NOVANET_PKT_SZ)
    {
      FUNC6 (stderr, "novanet_read: sock_send returned %d (!= %d)\n",
               n, NOVANET_PKT_SZ);
      return (0);
    }

  FUNC1 (&r_fds);
  FUNC0 (fd, &r_fds);
  tv.tv_sec = 4;        /* wait 4 seconds */
  tv.tv_usec = 0;

  n = FUNC9 (fd + 1, &r_fds, NULL, NULL, &tv);
  if (n == -1)
    {
      FUNC6 (stderr, "novanet_read: select() - %s\n", FUNC13 (errno));
      FUNC5 (EXIT_FAILURE);
    }
  else if (n)
    {
      if ((n = FUNC10 (fd, rbuf, sizeof rbuf)) != NOVANET_PKT_SZ)
        {
          FUNC6 (stderr, "novanet_read: sock_recv returned %d (!= %d)\n",
                   n, NOVANET_PKT_SZ);
          return (0);
        }
    }
  else
    {
      FUNC6 (stderr, "novanet_read: select timeout, we may have crashed NovaNET :(\n");
      FUNC5 (EXIT_FAILURE);
    }

  FUNC7 (dst, &rbuf[NOVANET_INT_IDX], sizeof (void *));
  FUNC14 (USLEEP_TIME);
  FUNC4 (fd);

  return (1);
}