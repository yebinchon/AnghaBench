#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */
typedef  struct TYPE_2__   TYPE_1__ ;

/* Type definitions */
struct timeval {scalar_t__ tv_usec; int /*<<< orphan*/  tv_sec; } ;
struct TYPE_2__ {int /*<<< orphan*/  s_addr; } ;
struct sockaddr_in {TYPE_1__ sin_addr; int /*<<< orphan*/  sin_port; int /*<<< orphan*/  sin_family; int /*<<< orphan*/  sin_zero; } ;
struct sockaddr {int dummy; } ;
typedef  int /*<<< orphan*/  linebuf ;
typedef  int /*<<< orphan*/  lastbuf ;
typedef  int /*<<< orphan*/  info_buf ;
typedef  int /*<<< orphan*/  fd_set ;

/* Variables and functions */
 int /*<<< orphan*/  AF_INET ; 
 unsigned char* CHECKELOG ; 
 int EXIT_FAILURE ; 
 scalar_t__ FUNC0 (int,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC1 (int,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ *) ; 
 int INBUF ; 
 int /*<<< orphan*/  IPPROTO_TCP ; 
 int LINEBUFSIZ ; 
 char* MSGVER ; 
 int /*<<< orphan*/  NOTELOG ; 
 int /*<<< orphan*/  FUNC3 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC4 (char*,int) ; 
 int /*<<< orphan*/  SOCK_STREAM ; 
 int /*<<< orphan*/  SOL_SOCKET ; 
 int /*<<< orphan*/  SO_REUSEADDR ; 
 int /*<<< orphan*/  TIMEOUT ; 
 unsigned char* VERSION_CHECKER ; 
 int /*<<< orphan*/  FUNC5 (char*,int) ; 
 int /*<<< orphan*/  FUNC6 (int) ; 
 int FUNC7 (int,struct sockaddr*,int) ; 
 int debug ; 
 int /*<<< orphan*/  FUNC8 (int,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC9 (int) ; 
 int /*<<< orphan*/  FUNC10 (int /*<<< orphan*/ ,char*) ; 
 int /*<<< orphan*/  FUNC11 (char*) ; 
 int /*<<< orphan*/  FUNC12 (unsigned short) ; 
 int /*<<< orphan*/  FUNC13 (int /*<<< orphan*/ *,char,int) ; 
 int /*<<< orphan*/  FUNC14 (char*) ; 
 int FUNC15 (int,char*,int,int /*<<< orphan*/ ) ; 
 int FUNC16 (int,int /*<<< orphan*/ *,int /*<<< orphan*/ *,int /*<<< orphan*/ *,struct timeval*) ; 
 int FUNC17 (int,unsigned char const*,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int FUNC18 (int,int /*<<< orphan*/ ,int /*<<< orphan*/ ,int*,int) ; 
 int FUNC19 (int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  stderr ; 
 int /*<<< orphan*/  FUNC20 (unsigned char const*) ; 
 int /*<<< orphan*/  FUNC21 (char*,char*,int) ; 
 char* FUNC22 (char*,unsigned char const*) ; 

void             FUNC23(char *hostname,unsigned short port)
 {
   const unsigned char *version_chec = VERSION_CHECKER;
   const unsigned char *version_request = CHECKELOG;
   int          yes = 1;
   int          get_total = 0;
   int          send_total = 0;
   char         info_buf[INBUF];
   int          sock_req;
   int          ready;   
   struct sockaddr_in rem_addr;
   fd_set             read_fd;
   struct timeval     w_t;
     
     w_t.tv_sec  = TIMEOUT;
     w_t.tv_usec = 0;
     
   FUNC4(MSGVER,1);
 
           sock_req = FUNC19(AF_INET,SOCK_STREAM,IPPROTO_TCP);
             if(sock_req < 0) {
             FUNC14("socket");
             FUNC9(EXIT_FAILURE);
             }
          if(FUNC18(sock_req,SOL_SOCKET,SO_REUSEADDR,&yes,sizeof(int)) == -1)
          { FUNC14("setsockopt");
          FUNC9(1);
          }
   
           FUNC13(&(rem_addr.sin_zero),'\0',8);
           rem_addr.sin_family = AF_INET;
           rem_addr.sin_port   = FUNC12(port);
           rem_addr.sin_addr.s_addr = FUNC11(hostname);            
      
               if( FUNC7(sock_req,(struct sockaddr *)&rem_addr,sizeof(struct sockaddr)) == -1)
                { 
                FUNC8(1,NULL);
                FUNC9(1);
                }
     
          FUNC2(&read_fd);
          FUNC1(sock_req,&read_fd);
          
               if ((send_total = FUNC17(sock_req,version_request,FUNC20(version_request),0)) == -1)
                {
                FUNC14("send");
                FUNC9(1);
                }
         if((ready = FUNC16(sock_req+1,&read_fd,(fd_set *)NULL,(fd_set *)NULL,&w_t)) < 0){
             FUNC14("select");
             FUNC9(1);
             }
         if(FUNC0(sock_req,&read_fd))
          {
               if( (get_total = FUNC15(sock_req,info_buf,sizeof(info_buf)-1,0)) == -1)
                {
                FUNC14("recv");
                FUNC9(1);
                }
                  else if(get_total <= 0){
                  FUNC10(stderr,"[-]Can not receive information\n");
                  FUNC9(1);
                  }
          info_buf[get_total] = '\0';
          int i;
          char             linebuf[LINEBUFSIZ];
          char             lastbuf[LINEBUFSIZ];
          FUNC5(linebuf,sizeof(linebuf));
          FUNC5(lastbuf,sizeof(lastbuf));

          char *p = (char *)&linebuf[0];
          char *k = (char *)&lastbuf[0];
   
          char *z;
             if((z = FUNC22(info_buf,version_chec)) != NULL) 
              {
                FUNC21(p,z,500);
                  for(i = 0; (*p != '-') && (*p != '\n'); i++){  
                   *k++ = *p++;
                   }
              FUNC4(lastbuf,debug);
              FUNC6(sock_req); 
              return; 
              }
          }
           FUNC3(NOTELOG);
           FUNC6(sock_req);
           FUNC9(1);
 }