#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  int u_short ;
typedef  int /*<<< orphan*/  u_long ;
typedef  int /*<<< orphan*/  u_char ;
struct in_addr {int dummy; } ;

/* Variables and functions */
 int /*<<< orphan*/  FUNC0 (char,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC1 (char*,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ *,int,int,int /*<<< orphan*/ ) ; 
 int FUNC3 (int) ; 
 int /*<<< orphan*/  FUNC4 (struct in_addr) ; 
 int next ; 
 int /*<<< orphan*/  FUNC5 (char*,int,...) ; 
 int FUNC6 (int,char*,int,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC7 (int /*<<< orphan*/ *,int) ; 
 int size ; 
 int /*<<< orphan*/  FUNC8 () ; 
 int /*<<< orphan*/  stdout ; 
 int type ; 

void FUNC9(int sock, u_char *ptr, int len) {
int err;
u_long ip;
u_short port;


while(len > 0) { /* while */

switch(next) {
/* 0 */ case 0: {
type = *(u_short *)ptr;
next = 0;
switch(type) {
case 0x030f: {
FUNC1("You have been kicked out\n", stdout);
} break;
case 0x060f: {
FUNC1("The channel you want to join doesn't exist!\n", stdout);
} break;
case 0x070f: {
FUNC1("The channel requires a password or your password is wrong\n", stdout);
} break;
case 0x140f: {
err = FUNC6(sock, "\x0f\x14", 2, 0);
if(err < 0) FUNC8();
} break;
case 0x150f: {
err = FUNC6(sock, "\x0f\x15", 2, 0);
if(err < 0) FUNC8();
} break;
default: next = 1; break;
}
ptr += 2;
len -= 2;
} break; 
/* 1 */ case 1: {
size = FUNC3(*(u_short *)ptr);
next = 2;
ptr += 2;
len -= 2;
} break;
/* 2 */ case 2: {
switch(type) {
case 0x020f: {
FUNC5("You have ID %hu\n", FUNC3(*(u_short *)ptr));
} break;
case 0x0a0f: {
FUNC5("User with ID %hu is entered\n", FUNC3(*(u_short *)ptr));
} break;
case 0x0b0f: {
FUNC5("User with ID %hu is exited\n", FUNC3(*(u_short *)ptr));
} break;
case 0x0c0f: {
err = size - 2;
FUNC5("User with ID %hu has name: ", FUNC3(*(u_short *)ptr));
FUNC2(ptr + 2, err, 1, stdout);
FUNC0('\n', stdout);
} break;
case 0x0d0f:
case 0x0e0f: {
/* BOH???
printf("%hu - %d\n",
htons(*(u_short *)ptr), htonl(*(u_long *)(ptr + 2)));
*/
} break;
case 0x0f0f: {
ip = *(u_long *)(ptr + 2);
port = *(u_short *)(ptr + 6);
FUNC5("Address of user with ID %hu is %s:%hu\n",
FUNC3(*(u_short *)ptr),
FUNC4(*(struct in_addr *)&ip),
FUNC3(port));
} break;
default: {
FUNC5("--> Undefined type: %04x (hex dump follows)\n", type);
FUNC7(ptr, size);
} break;
}
next = 0;
ptr += size;
len -= size;
} break;
}

} /* while */
}