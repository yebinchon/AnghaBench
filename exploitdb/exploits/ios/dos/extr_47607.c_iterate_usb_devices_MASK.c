#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  scalar_t__ kern_return_t ;
typedef  int /*<<< orphan*/  io_service_t ;
typedef  int /*<<< orphan*/  io_iterator_t ;
typedef  int /*<<< orphan*/  IOUSBDeviceInterface ;
typedef  int /*<<< orphan*/ * CFMutableDictionaryRef ;

/* Variables and functions */
 int /*<<< orphan*/  FUNC0 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC1 (int /*<<< orphan*/ ) ; 
 scalar_t__ FUNC2 (int /*<<< orphan*/ ,int /*<<< orphan*/ *,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/ * FUNC3 (int /*<<< orphan*/ ) ; 
 scalar_t__ KERN_SUCCESS ; 
 scalar_t__ FUNC4 (int /*<<< orphan*/ ,int /*<<< orphan*/ ***) ; 
 int /*<<< orphan*/  kIOMasterPortDefault ; 
 int /*<<< orphan*/  kIOUSBDeviceClassName ; 
 char* FUNC5 (scalar_t__) ; 
 scalar_t__ FUNC6 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC7 (char*,...) ; 
 scalar_t__ FUNC8 (int /*<<< orphan*/ **,char const*) ; 

__attribute__((used)) static int FUNC9(const char *msg){
    CFMutableDictionaryRef matchingDict;
    io_iterator_t iter;
    kern_return_t kr;
    io_service_t device;

    /* set up a matching dictionary for the class */
    matchingDict = FUNC3(kIOUSBDeviceClassName);
    if (matchingDict == NULL)
    {
        return -1; // fail
    }
    
    /* Now we have a dictionary, get an iterator.*/
    kr = FUNC2(kIOMasterPortDefault, matchingDict, &iter);
    if (kr != KERN_SUCCESS)
    {
        return -1;
    }

    /* iterate */
    while ((device = FUNC0(iter)))
    {
        /* do something with device, eg. check properties */
        kr = FUNC6(device);
        
        if(kr != KERN_SUCCESS){
            FUNC7("Skipping device as it has no vid / pid.\n");
            continue;
        }
        
        IOUSBDeviceInterface **dev = 0;
        kr = FUNC4(device, &dev);
        
        if(kr != KERN_SUCCESS){
            FUNC7("Skipping device as no handle for it could be retrieved.\n");
            continue;
        }
        
        kr = FUNC8(dev, msg);
        FUNC7("RET: %s\n\n", FUNC5(kr));
        
        /* And free the reference taken before continuing to the next item */
        FUNC1(device);
    }

   /* Done, release the iterator */
   FUNC1(iter);
   return 0;
}