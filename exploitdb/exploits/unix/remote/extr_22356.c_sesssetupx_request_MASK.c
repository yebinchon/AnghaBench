#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  char uint8 ;
struct smb_base_header {int dummy; } ;
struct sesssetupx_request_header {int dummy; } ;
struct nbt_session_header {int dummy; } ;
typedef  int /*<<< orphan*/  packet ;
typedef  int /*<<< orphan*/  data ;

/* Variables and functions */
 int /*<<< orphan*/  SMB_SESSION ; 
 int /*<<< orphan*/  SMB_SESSSETUPX ; 
 int /*<<< orphan*/  FUNC0 (int) ; 
 int /*<<< orphan*/  FUNC1 (char*,int /*<<< orphan*/ ,int /*<<< orphan*/ ,int) ; 
 int /*<<< orphan*/  FUNC2 (char*) ; 
 int /*<<< orphan*/  FUNC3 (char*,int /*<<< orphan*/ ,int,int,int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ ,int) ; 
 int errno ; 
 int /*<<< orphan*/  FUNC4 (int) ; 
 int /*<<< orphan*/  FUNC5 (int /*<<< orphan*/ ,char*,...) ; 
 int /*<<< orphan*/  FUNC6 (char*,char**,int) ; 
 int /*<<< orphan*/  pid ; 
 int /*<<< orphan*/  stderr ; 
 char* FUNC7 (int) ; 
 int FUNC8 (int,char*,int) ; 

void FUNC9(int fd)
{ uint8 data[] = "\x12\x0\x0\x0\x55\x6e\x69\x78\x00\x53\x61\x6d\x62\x61";
 char packet[sizeof (struct nbt_session_header) + sizeof (struct
smb_base_header) +
 sizeof (struct sesssetupx_request_header) + sizeof (data)];
 int size;

 FUNC1(packet, SMB_SESSION, 0, sizeof (packet) -
sizeof (struct nbt_session_header));
 FUNC3(packet + sizeof (struct nbt_session_header),
SMB_SESSSETUPX, 8, 1, 0, pid, 0, 1);
 FUNC2(packet + sizeof (struct nbt_session_header) +
sizeof (struct smb_base_header));
 FUNC6(packet + sizeof (struct nbt_session_header) + sizeof (struct
smb_base_header) +
 sizeof (struct sesssetupx_request_header), &data, sizeof (data));

 if ((size = FUNC8(fd, packet, sizeof (packet))) == -1)
 { FUNC0(fd);
 FUNC5(stderr, "write() failed, reason: '%s' (code %i)\n",
FUNC7(errno), errno);
 FUNC4(-errno);
 }
 if (size != sizeof (packet))
 { FUNC0(fd);
 FUNC5(stderr, "couldn't write entire packet, aborting!\n");
 FUNC4(-1);
 }
}