#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  int /*<<< orphan*/  t_b ;
struct in_addr {int /*<<< orphan*/  s_addr; } ;
struct sockaddr_in {char sin_zero; struct in_addr sin_addr; void* sin_port; void* sin_family; } ;
struct sockaddr {int dummy; } ;
struct hostent {scalar_t__ h_addr; } ;
typedef  int /*<<< orphan*/  FILE ;

/* Variables and functions */
 void* AF_INET ; 
 int /*<<< orphan*/  BK_LG ; 
 int /*<<< orphan*/  CMD_FILE ; 
 int /*<<< orphan*/  DEF_TIME ; 
 int /*<<< orphan*/  INADDR_ANY ; 
 int /*<<< orphan*/  IPPROTO_TCP ; 
 int SEC_BUF ; 
 int /*<<< orphan*/  SIGALRM ; 
 int /*<<< orphan*/  SOCK_STREAM ; 
 int FUNC0 (int,struct sockaddr*,int*) ; 
 int /*<<< orphan*/  FUNC1 (int /*<<< orphan*/ ) ; 
 int FUNC2 (int,struct sockaddr*,int) ; 
 int /*<<< orphan*/  FUNC3 (int) ; 
 int FUNC4 (int,struct sockaddr*,int) ; 
 int /*<<< orphan*/  FUNC5 (int /*<<< orphan*/ *) ; 
 scalar_t__ FUNC6 (char*,int,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/ * FUNC7 (int /*<<< orphan*/ ,char*) ; 
 struct hostent* FUNC8 (char*) ; 
 void* FUNC9 (int) ; 
 int FUNC10 (int,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC11 (char*,int /*<<< orphan*/ ,int) ; 
 scalar_t__ FUNC12 (int,int*,int,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC13 (int,char*,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC14 (int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int sock ; 
 int FUNC15 (void*,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC16 (char*) ; 
 int /*<<< orphan*/  t_kill ; 

int FUNC17(char *sc_gt_host,int port,int type)
{
 struct sockaddr_in sock_st;
 struct sockaddr_in t_st;
 int nw_gt_sock,s_s;
 struct hostent *hst_etr;
 int sc_gt_sock;
 int t_c=0;
 char t_b[(SEC_BUF)];
 FILE *fp;
 char http_rq[]="HTTP/1.1 200 OK\r\n\r\n";

 if(!type){
  FUNC14(SIGALRM,t_kill);
  FUNC1(DEF_TIME);

  if((hst_etr=FUNC8(sc_gt_host))==NULL)
  {
   return(-1);
  }
  if((sock=FUNC15(AF_INET,SOCK_STREAM,IPPROTO_TCP))==-1)
  {
   return(-1);
  }
  sock_st.sin_family=(AF_INET);
  sock_st.sin_port=FUNC9(port);
  sock_st.sin_addr=*((struct in_addr *)hst_etr->h_addr);
  FUNC11(&(sock_st.sin_zero),0,8);

  if(FUNC4(sock,(struct sockaddr *)&sock_st,sizeof(struct sockaddr))==-1)
  {
   FUNC3(sock);
   return(-1);
  }
  return(sock);
 }
 else{
  if((sc_gt_sock=FUNC15(AF_INET,SOCK_STREAM,IPPROTO_TCP))==-1)
  {
   return(-1);
  }

  sock_st.sin_family=(AF_INET);
  sock_st.sin_port=FUNC9(port);
  sock_st.sin_addr.s_addr=(INADDR_ANY);
  FUNC11(&(sock_st.sin_zero),0,8);

  if(FUNC2(sc_gt_sock,(struct sockaddr *)&sock_st,sizeof(struct sockaddr))==-1)
  {
   FUNC3(sc_gt_sock);
   return(-1);
  }
#define BK_LG 10
  if(FUNC10(sc_gt_sock,(BK_LG))==-1){
   FUNC3(sc_gt_sock);
   return(-1);
  }
  while(1){
   s_s=sizeof(struct sockaddr_in);
   if((nw_gt_sock=FUNC0(sc_gt_sock,(struct sockaddr *)&t_st,&s_s))==-1)
   {
    FUNC3(nw_gt_sock);
    FUNC3(sc_gt_sock);
    return(-1);
   }
   while(FUNC12(nw_gt_sock,&t_c,1,0)){
    if(t_c==0x0d){
     FUNC12(nw_gt_sock,&t_c,1,0);
     if(t_c==0x0a){
      FUNC12(nw_gt_sock,&t_c,1,0);
      if(t_c==0x0d){
       FUNC12(nw_gt_sock,&t_c,1,0);
       if(t_c==0x0a){
        break;
       }
      }
     }
    }
   }

   FUNC13(nw_gt_sock,http_rq,FUNC16(http_rq),0);
   if((fp=FUNC7(CMD_FILE,"r"))==NULL){
    FUNC3(nw_gt_sock);
    FUNC3(sc_gt_sock);
    return(-1);
   }
   FUNC11((char *)t_b,0,sizeof(t_b));
   while(FUNC6(t_b,sizeof(t_b)-1,fp)){
    FUNC13(nw_gt_sock,t_b,FUNC16(t_b),0);
   }
   FUNC5(fp);
   FUNC3(nw_gt_sock);
   continue;
  }
  FUNC3(sc_gt_sock);
  return(-1);
 }
}