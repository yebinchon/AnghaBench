#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */
typedef  struct TYPE_12__   TYPE_6__ ;
typedef  struct TYPE_11__   TYPE_5__ ;
typedef  struct TYPE_10__   TYPE_2__ ;
typedef  struct TYPE_9__   TYPE_1__ ;

/* Type definitions */
typedef  int /*<<< orphan*/  gpointer ;
typedef  int /*<<< orphan*/  gfloat ;
typedef  int gboolean ;
typedef  scalar_t__ char_u ;
struct TYPE_12__ {int /*<<< orphan*/  action_area; int /*<<< orphan*/ * vbox; } ;
struct TYPE_11__ {int /*<<< orphan*/ * mainwin; } ;
struct TYPE_10__ {scalar_t__ vc_type; } ;
struct TYPE_9__ {int /*<<< orphan*/ * dialog; int /*<<< orphan*/ * all; int /*<<< orphan*/ * replace; int /*<<< orphan*/ * find; int /*<<< orphan*/ * down; int /*<<< orphan*/ * up; int /*<<< orphan*/ * mcase; int /*<<< orphan*/ * wword; int /*<<< orphan*/ * what; int /*<<< orphan*/ * with; } ;
typedef  TYPE_1__ SharedFindReplace ;
typedef  int /*<<< orphan*/  GtkWidget ;

/* Variables and functions */
 int /*<<< orphan*/  FUNC0 (int /*<<< orphan*/ ) ; 
 scalar_t__ CONV_NONE ; 
 int FALSE ; 
 int /*<<< orphan*/  FRD_FINDNEXT ; 
 int /*<<< orphan*/  FRD_REPLACE ; 
 int /*<<< orphan*/  FRD_REPLACEALL ; 
 int /*<<< orphan*/  FRD_R_FINDNEXT ; 
 int /*<<< orphan*/ * FUNC1 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC2 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  GTK_CAN_DEFAULT ; 
 int /*<<< orphan*/  FUNC3 (int /*<<< orphan*/ *) ; 
 TYPE_6__* FUNC4 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC5 (int /*<<< orphan*/ *) ; 
 int GTK_EXPAND ; 
 int GTK_FILL ; 
 int /*<<< orphan*/  FUNC6 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC7 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC8 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC9 (int /*<<< orphan*/  (*) (int /*<<< orphan*/ )) ; 
 int /*<<< orphan*/  GTK_STOCK_CLOSE ; 
 int /*<<< orphan*/  GTK_STOCK_CONVERT ; 
 int /*<<< orphan*/  GTK_STOCK_FIND ; 
 int /*<<< orphan*/  FUNC10 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC11 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC12 (int /*<<< orphan*/ *,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC13 (int /*<<< orphan*/ *) ; 
 scalar_t__ NUL ; 
 int TRUE ; 
 int /*<<< orphan*/  FUNC14 (char*) ; 
 void* FUNC15 (int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC16 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC17 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC18 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC19 (int /*<<< orphan*/ ) ; 
 TYPE_1__ find_widgets ; 
 scalar_t__* FUNC20 (scalar_t__*,int*,int*) ; 
 int /*<<< orphan*/  FUNC21 (int /*<<< orphan*/ ,int /*<<< orphan*/ *,int,int,int) ; 
 int /*<<< orphan*/  FUNC22 (int /*<<< orphan*/ ,int /*<<< orphan*/ *,int,int,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/ * FUNC23 (int /*<<< orphan*/ ) ; 
 void* FUNC24 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC25 (int /*<<< orphan*/ ,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC26 (int /*<<< orphan*/ ,int) ; 
 int /*<<< orphan*/  FUNC27 (int /*<<< orphan*/ ,int) ; 
 int /*<<< orphan*/ * FUNC28 () ; 
 int /*<<< orphan*/  FUNC29 (TYPE_6__*,int) ; 
 void* FUNC30 () ; 
 int /*<<< orphan*/  FUNC31 (int /*<<< orphan*/ ,char*) ; 
 int /*<<< orphan*/ * FUNC32 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/ * FUNC33 (int,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/ * FUNC34 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC35 (int /*<<< orphan*/ ,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/ * FUNC36 (int /*<<< orphan*/ ) ; 
 void* FUNC37 (int /*<<< orphan*/ *,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC38 (int /*<<< orphan*/ ,char*,int /*<<< orphan*/ ,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC39 (int /*<<< orphan*/ ,char*,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC40 (int /*<<< orphan*/ ,char*,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC41 (int /*<<< orphan*/ ,int /*<<< orphan*/ *,int,int,int,int,int,int,int,int) ; 
 int /*<<< orphan*/ * FUNC42 (int,int,int) ; 
 int /*<<< orphan*/  FUNC43 (int /*<<< orphan*/ ,int) ; 
 int /*<<< orphan*/ * FUNC44 (int,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/ * FUNC45 () ; 
 int /*<<< orphan*/ * FUNC46 () ; 
 int /*<<< orphan*/  FUNC47 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC48 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC49 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC50 (int /*<<< orphan*/ *,int) ; 
 int /*<<< orphan*/  FUNC51 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC52 (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC53 (int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC54 (int /*<<< orphan*/ ,int) ; 
 int /*<<< orphan*/  FUNC55 (int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  FUNC56 (int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 TYPE_5__ gui ; 
 TYPE_2__ output_conv ; 
 int /*<<< orphan*/  p_ic ; 
 TYPE_1__ repl_widgets ; 
 scalar_t__* FUNC57 (TYPE_2__*,scalar_t__*,int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/  FUNC58 (scalar_t__*) ; 

__attribute__((used)) static void
FUNC59(char_u *arg, int do_replace)
{
    GtkWidget	*hbox;		/* main top down box */
    GtkWidget	*actionarea;
    GtkWidget	*table;
    GtkWidget	*tmp;
    GtkWidget	*vbox;
    gboolean	sensitive;
    SharedFindReplace *frdp;
    char_u	*entry_text;
    int		wword = FALSE;
    int		mcase = !p_ic;
    char_u	*conv_buffer = NULL;
#   define CONV(message) convert_localized_message(&conv_buffer, (message))

    frdp = (do_replace) ? (&repl_widgets) : (&find_widgets);

    /* Get the search string to use. */
    entry_text = FUNC20(arg, &wword, &mcase);

    if (entry_text != NULL && output_conv.vc_type != CONV_NONE)
    {
	char_u *old_text = entry_text;
	entry_text = FUNC57(&output_conv, entry_text, NULL);
	FUNC58(old_text);
    }

    /*
     * If the dialog already exists, just raise it.
     */
    if (frdp->dialog)
    {
	if (entry_text != NULL)
	{
	    FUNC31(FUNC5(frdp->what), (char *)entry_text);
	    FUNC43(FUNC11(frdp->wword),
							     (gboolean)wword);
	    FUNC43(FUNC11(frdp->mcase),
							     (gboolean)mcase);
	}
	FUNC53(FUNC13(frdp->dialog));
	FUNC58(entry_text);
	return;
    }

    frdp->dialog = FUNC28();
    FUNC29(FUNC4(frdp->dialog), FALSE);
    FUNC56(FUNC13(frdp->dialog), FUNC13(gui.mainwin));
    FUNC54(FUNC13(frdp->dialog), TRUE);

    if (do_replace)
    {
	FUNC55(FUNC13(frdp->dialog),
			     CONV(FUNC14("VIM - Search and Replace...")));
    }
    else
    {
	FUNC55(FUNC13(frdp->dialog),
			     CONV(FUNC14("VIM - Search...")));
    }

    hbox = FUNC33(FALSE, 0);
    FUNC27(FUNC3(hbox), 10);
    FUNC25(FUNC3(FUNC4(frdp->dialog)->vbox), hbox);

    if (do_replace)
	table = FUNC42(1024, 4, FALSE);
    else
	table = FUNC42(1024, 3, FALSE);
    FUNC22(FUNC2(hbox), table, TRUE, TRUE, 0);
    FUNC26(FUNC3(table), 4);

    tmp = FUNC34(CONV(FUNC14("Find what:")));
    FUNC35(FUNC6(tmp), (gfloat)0.0, (gfloat)0.5);
    FUNC41(FUNC10(table), tmp, 0, 1, 0, 1,
		     GTK_FILL, GTK_EXPAND, 2, 2);
    frdp->what = FUNC30();
    sensitive = (entry_text != NULL && entry_text[0] != NUL);
    if (entry_text != NULL)
	FUNC31(FUNC5(frdp->what), (char *)entry_text);
    FUNC38(FUNC7(frdp->what), "changed",
		       FUNC9(entry_changed_cb), frdp->dialog);
    FUNC39(FUNC7(frdp->what), "key_press_event",
				 FUNC9(find_key_press_event),
				 (gpointer) frdp);
    FUNC41(FUNC10(table), frdp->what, 1, 1024, 0, 1,
		     GTK_EXPAND | GTK_FILL, GTK_EXPAND, 2, 2);

    if (do_replace)
    {
	tmp = FUNC34(CONV(FUNC14("Replace with:")));
	FUNC35(FUNC6(tmp), (gfloat)0.0, (gfloat)0.5);
	FUNC41(FUNC10(table), tmp, 0, 1, 1, 2,
			 GTK_FILL, GTK_EXPAND, 2, 2);
	frdp->with = FUNC30();
	FUNC38(FUNC7(frdp->with), "activate",
			   FUNC9(find_replace_cb),
			   FUNC1(FRD_R_FINDNEXT));
	FUNC39(FUNC7(frdp->with), "key_press_event",
				 FUNC9(find_key_press_event),
				 (gpointer) frdp);
	FUNC41(FUNC10(table), frdp->with, 1, 1024, 1, 2,
			 GTK_EXPAND | GTK_FILL, GTK_EXPAND, 2, 2);

	/*
	 * Make the entry activation only change the input focus onto the
	 * with item.
	 */
	FUNC38(FUNC7(frdp->what), "activate",
			   FUNC9(entry_activate_cb), frdp->with);
    }
    else
    {
	/*
	 * Make the entry activation do the search.
	 */
	FUNC38(FUNC7(frdp->what), "activate",
			   FUNC9(find_replace_cb),
			   FUNC1(FRD_FINDNEXT));
    }

    /* whole word only button */
    frdp->wword = FUNC24(CONV(FUNC14("Match whole word only")));
    FUNC43(FUNC11(frdp->wword),
							(gboolean)wword);
    if (do_replace)
	FUNC41(FUNC10(table), frdp->wword, 0, 1023, 2, 3,
			 GTK_FILL, GTK_EXPAND, 2, 2);
    else
	FUNC41(FUNC10(table), frdp->wword, 0, 1023, 1, 2,
			 GTK_FILL, GTK_EXPAND, 2, 2);

    /* match case button */
    frdp->mcase = FUNC24(CONV(FUNC14("Match case")));
    FUNC43(FUNC11(frdp->mcase),
							     (gboolean)mcase);
    if (do_replace)
	FUNC41(FUNC10(table), frdp->mcase, 0, 1023, 3, 4,
			 GTK_FILL, GTK_EXPAND, 2, 2);
    else
	FUNC41(FUNC10(table), frdp->mcase, 0, 1023, 2, 3,
			 GTK_FILL, GTK_EXPAND, 2, 2);

    tmp = FUNC32(CONV(FUNC14("Direction")));
    if (do_replace)
	FUNC41(FUNC10(table), tmp, 1023, 1024, 2, 4,
			 GTK_FILL, GTK_FILL, 2, 2);
    else
	FUNC41(FUNC10(table), tmp, 1023, 1024, 1, 3,
			 GTK_FILL, GTK_FILL, 2, 2);
    vbox = FUNC44(FALSE, 0);
    FUNC26(FUNC3(vbox), 0);
    FUNC25(FUNC3(tmp), vbox);

    /* 'Up' and 'Down' buttons */
    frdp->up = FUNC37(NULL, CONV(FUNC14("Up")));
    FUNC22(FUNC2(vbox), frdp->up, TRUE, TRUE, 0);
    frdp->down = FUNC37(
			FUNC36(FUNC8(frdp->up)),
			CONV(FUNC14("Down")));
    FUNC43(FUNC11(frdp->down), TRUE);
    FUNC27(FUNC3(vbox), 2);
    FUNC22(FUNC2(vbox), frdp->down, TRUE, TRUE, 0);

    /* vbox to hold the action buttons */
    actionarea = FUNC45();
    FUNC26(FUNC3(actionarea), 2);
    FUNC21(FUNC2(hbox), actionarea, FALSE, FALSE, 0);

    /* 'Find Next' button */
    frdp->find = FUNC15(GTK_STOCK_FIND, FUNC14("Find Next"));
    FUNC50(frdp->find, sensitive);

    FUNC38(FUNC7(frdp->find), "clicked",
		       FUNC9(find_replace_cb),
		       (do_replace) ? FUNC1(FRD_R_FINDNEXT)
				    : FUNC1(FRD_FINDNEXT));

    FUNC12(frdp->find, GTK_CAN_DEFAULT);
    FUNC22(FUNC2(actionarea), frdp->find, FALSE, FALSE, 0);
    FUNC47(frdp->find);

    if (do_replace)
    {
	/* 'Replace' button */
	frdp->replace = FUNC15(GTK_STOCK_CONVERT, FUNC14("Replace"));
	FUNC50(frdp->replace, sensitive);
	FUNC12(frdp->replace, GTK_CAN_DEFAULT);
	FUNC22(FUNC2(actionarea), frdp->replace, FALSE, FALSE, 0);
	FUNC38(FUNC7(frdp->replace), "clicked",
			   FUNC9(find_replace_cb),
			   FUNC1(FRD_REPLACE));

	/* 'Replace All' button */
	frdp->all = FUNC15(GTK_STOCK_CONVERT, FUNC14("Replace All"));
	FUNC50(frdp->all, sensitive);
	FUNC12(frdp->all, GTK_CAN_DEFAULT);
	FUNC22(FUNC2(actionarea), frdp->all, FALSE, FALSE, 0);
	FUNC38(FUNC7(frdp->all), "clicked",
			   FUNC9(find_replace_cb),
			   FUNC1(FRD_REPLACEALL));
    }

    /* 'Cancel' button */
    tmp = FUNC23(GTK_STOCK_CLOSE);
    FUNC12(tmp, GTK_CAN_DEFAULT);
    FUNC21(FUNC2(actionarea), tmp, FALSE, FALSE, 0);
    FUNC40(FUNC7(tmp),
			      "clicked", FUNC9(gtk_widget_hide),
			      FUNC7(frdp->dialog));
    FUNC40(FUNC7(frdp->dialog),
			      "delete_event", FUNC9(gtk_widget_hide_on_delete),
			      FUNC7(frdp->dialog));

    tmp = FUNC46();
    FUNC21(FUNC2(hbox), tmp, FALSE, FALSE, 10);

    /* Suppress automatic show of the unused action area */
    FUNC48(FUNC4(frdp->dialog)->action_area);
    FUNC52(hbox);
    FUNC51(frdp->dialog);

    FUNC58(entry_text);
    FUNC58(conv_buffer);
#undef CONV
}